<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form th:action="@{/preparePayment}" method="post">
    <table border="1">
        <tr>
            <th>Select</th>
            <th>Seq</th>
            <th>quantity</th>
            <th>sub_total</th>
            <th>unit_price</th>
            <th>cart_id</th>
            <th>product_id</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
        <tr th:each="cartItem, cartItemStat : ${cartItems}">
            <td><input type="checkbox" th:value="${cartItem.id}" name="selectedItems"/></td>
            <td th:text="${cartItemStat.count}"></td>
            <td th:text="${cartItem.quantity}"></td>
            <td th:text="${cartItem.subTotal}"></td>
            <td th:text="${cartItem.unitPrice}"></td>
            <td th:text="${cartItem.cart}"></td>
            <td th:text="${cartItem.product}"></td>
            <td><a th:href="@{/cartItem/edit/{id}(id=${cartItem.id})}">수정</a></td>
            <td><a th:href="@{/cartItem/delete/{id}(id=${cartItem.id})}">삭제</a></td>
        </tr>
    </table>
    <div th:text="'Price: ' + ${priceSession}"></div>
    <input type="submit" value="주문하기"/>
</form>
</body>
</html>